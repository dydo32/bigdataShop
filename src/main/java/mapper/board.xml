<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.kitri.bigdataShop.board">
	<insert id="insert" parameterType="board">
		insert into board 
		values(board_seq.nextval, #{id}, #{title}, #{text},0,'1', sysdate, sysdate)
	</insert>
	
	<insert id="fileinsert" parameterType="Map">
		insert all 
		<foreach collection="fileName" item="file"  separator=" ">
			into board_file values(board_seq.currval, #{file}, '1')
		</foreach>
		select * from dual
	</insert>
	
	<select id="boardlist" resultType="board">
		select * from board where del_flg='1'
	</select>
	
	<update id="delete" parameterType="String">
		update board set del_flg='0' where board_no=#{board_no}
	</update>
	
	<update id="filedelete" parameterType="String">
		update from board_file set del_flg='0' where board_no=#{board_no}
	</update>
	
	<select id="read" parameterType="String" resultType="board">
		select * from board where board_no=#{board_no}
	</select>
	
	<select id="fileread" parameterType="String" resultType="String">
		select file_name from board_file where board_no=#{board_no}
	</select>
	
</mapper>
